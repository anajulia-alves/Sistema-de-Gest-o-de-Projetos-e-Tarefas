<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
<html lang="pt-br">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
    <title>Gestão de projetos</title>
	<link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
	<link rel="stylesheet" th:href="@{/style.css}">

  </head>
  <body>
		
    <div class ="container">
		<div class="header-bar">
		  <h1>Projetos</h1>
		  <a th:href="@{/projetos/criar}" class="btn btn-primary btn-lg fw-bold">Criar projeto</a>
		</div>

		<table border="1">
		        <thead>
		            <tr>
		                <th>ID</th>
		                <th>Nome</th>
		                <th>Descrição</th>
		                <th>Status</th>
		                <th>Tarefas</th>
						<th>Criado em</th>
						<th>Ação</th>
		            </tr>
		        </thead>
				<tbody>
				    <tr th:each="projeto : ${projetos}">
				       <td th:text="${projeto.id}"></td>
				       <td th:text="${projeto.nome}"></td>
				       <td th:text="${projeto.descricao}"></td>
				       <td th:text="${projeto.status}"></td>
				       <td>
				         <a th:href="@{'/tarefas/projeto/' + ${projeto.id}}">Ver tarefas</a>
				       </td>
					   <td th:text="${#temporals.format(projeto.createdAt, 'dd/MM/yyyy')}"></td>
					   <td  style ="white-space:nowrap">
						<a class="btn btn-primary btn-sm"
						th:href=
						"@{/projetos/editar (id=${projeto.id})}"> Editar</a>
						<a class="btn btn-danger btn-sm"
						th:href=
						"@{/projetos/deletar (id=${projeto.id})}" onclick="return confirm
						('Tem certeza?')"> Deletar</a>
					   </td>
				     </tr>
				 </tbody>
		</table>
	</div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
  </body>
</html>